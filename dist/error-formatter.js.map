{"version":3,"sources":["../src/error-formatter.js"],"names":["ignorePatterns","formatError","err","stack","split","filter","line","every","pattern","indexOf","map","index","join","process","on","console","log","exit"],"mappings":"aAAA,GAAMA,CAAAA,cAAc,CAAG,CACrB,gCADqB,CAErB,4BAFqB,CAAvB,CAKA,QAASC,CAAAA,WAAT,CAAqBC,GAArB,CAA0B,CACxBA,GAAG,CAACC,KAAJ,CAAYD,GAAG,CAACC,KAAJ,CACTC,KADS,CACH,IADG,EAETC,MAFS,CAEF,SAAAC,IAAI,CAAI,CACd,MAAON,CAAAA,cAAc,CAACO,KAAf,CAAqB,SAAAC,OAAO,CAAI,CACrC,MAAOF,CAAAA,IAAI,CAACG,OAAL,CAAaD,OAAb,IAA0B,CAAC,CACnC,CAFM,CAGR,CANS,EAOTE,GAPS,CAOL,SAACJ,IAAD,CAAOK,KAAP,CAAiB,CACpB,GAAIA,KAAK,CAAG,CAAZ,CAAe,CACbL,IAAI,aAAQA,IAAR,CACL,CACD,MAAOA,CAAAA,IACR,CAZS,EAaTM,IAbS,CAaJ,IAbI,CAAZ,CAeA,MAAOV,CAAAA,GACR,CAEDW,OAAO,CAACC,EAAR,CAAW,mBAAX,CAAgC,SAAAZ,GAAG,CAAI,CACrCa,OAAO,CAACC,GAAR,CAAYf,WAAW,CAACC,GAAD,CAAvB,EACAW,OAAO,CAACI,IAAR,CAAa,CAAb,CACD,CAHD","sourcesContent":["const ignorePatterns = [\n  \"internal/modules/cjs/loader.js\",\n  \"internal/bootstrap/node.js\"\n]\n\nfunction formatError(err) {\n  err.stack = err.stack\n    .split(\"\\n\")\n    .filter(line => {\n      return ignorePatterns.every(pattern => {\n        return line.indexOf(pattern) === -1\n      })\n    })\n    .map((line, index) => {\n      if (index > 0) {\n        line = `  ${line}`\n      }\n      return line\n    })\n    .join(\"\\n\")\n\n  return err\n}\n\nprocess.on(\"uncaughtException\", err => {\n  console.log(formatError(err))\n  process.exit(1)\n})\n"],"file":"error-formatter.js"}